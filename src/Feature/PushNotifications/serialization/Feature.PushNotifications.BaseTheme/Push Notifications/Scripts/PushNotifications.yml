---
ID: "3a32da62-5934-47cf-b99a-5ab990804563"
Parent: "6a985ab5-dbbc-4b89-9bbf-4cb900a4a755"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: /sitecore/media library/Base Themes/Push Notifications/Scripts/PushNotifications
DB: master
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/3A32DA62593447CFB99A5AB990804563.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "6d9d46f0-24e4-4934-9481-bc805e430220"
  Value: 77u/dmFyIFNGID0gU0YgfHwge307DQpTRi5QdXNoTm90ZmljYXRpb25zID0gKGZ1bmN0aW9uICgpIHsNCg0KICAgIGZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkgew0KICAgICAgICBpZiAoISgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlcnZpY2UgV29ya2VyIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyLicpOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKCEoJ1B1c2hNYW5hZ2VyJyBpbiB3aW5kb3cpKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygnUHVzaCBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlcicpOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgDQoNCiAgICBmdW5jdGlvbiBzdWJzY3JpYmVVc2VyVG9QdXNoKHB1YmxpY0tleSkgew0KICAgICAgICByZXR1cm4gbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy9jb250ZW50L0ZlYXR1cmUvUHVzaE5vdGlmaWNhdGlvbnMvc2VydmljZS13b3JrZXIuanMnKQ0KICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlZ2lzdHJhdGlvbikgew0KDQogICAgICAgICAgICAgICAgdmFyIHNlcnZpY2VXb3JrZXI7DQogICAgICAgICAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbi5pbnN0YWxsaW5nKSB7DQogICAgICAgICAgICAgICAgICAgIHNlcnZpY2VXb3JrZXIgPSByZWdpc3RyYXRpb24uaW5zdGFsbGluZzsNCiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ1NlcnZpY2Ugd29ya2VyIGluc3RhbGxpbmcnKTsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlZ2lzdHJhdGlvbi53YWl0aW5nKSB7DQogICAgICAgICAgICAgICAgICAgIHNlcnZpY2VXb3JrZXIgPSByZWdpc3RyYXRpb24ud2FpdGluZzsNCiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ1NlcnZpY2Ugd29ya2VyIGluc3RhbGxlZCAmIHdhaXRpbmcnKTsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlZ2lzdHJhdGlvbi5hY3RpdmUpIHsNCiAgICAgICAgICAgICAgICAgICAgc2VydmljZVdvcmtlciA9IHJlZ2lzdHJhdGlvbi5hY3RpdmU7DQogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdTZXJ2aWNlIHdvcmtlciBhY3RpdmUnKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB2YXIgc3Vic2NyaWJlT3B0aW9ucyA9IHsNCiAgICAgICAgICAgICAgICAgICAgdXNlclZpc2libGVPbmx5OiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvblNlcnZlcktleTogdXJsQmFzZTY0VG9VaW50OEFycmF5KA0KICAgICAgICAgICAgICAgICAgICAgICAgcHVibGljS2V5DQogICAgICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VXb3JrZXIuc3RhdGUgPT0gImFjdGl2YXRlZCIpIHsNCiAgICAgICAgICAgICAgICAgICAgLy9JZiBwdXNoIHN1YnNjcmlwdGlvbiB3YXNudCBkb25lIHlldCBoYXZlIHRvIGRvIGhlcmUNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInN3IGFscmVhZHkgYWN0aXZhdGVkIC0gRG8gd2F0ZXZlciBuZWVkZWQgaGVyZSIpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZShzdWJzY3JpYmVPcHRpb25zKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBzZXJ2aWNlV29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoInN0YXRlY2hhbmdlIiwgZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInN3IHN0YXRlY2hhbmdlIDogIiwgZS50YXJnZXQuc3RhdGUpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuc3RhdGUgPT0gImFjdGl2YXRlZCIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVzZSBwdXNoTWFuZ2VyIGZvciBzdWJzY3JpYmluZyBoZXJlLg0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNjcmliZU9wdGlvbnMgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlclZpc2libGVPbmx5OiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uU2VydmVyS2V5OiB1cmxCYXNlNjRUb1VpbnQ4QXJyYXkoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1YmxpY0tleQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJKdXN0IG5vdyBhY3RpdmF0ZWQuIG5vdyB3ZSBjYW4gc3Vic2NyaWJlIGZvciBwdXNoIG5vdGlmaWNhdGlvbiIpDQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHVzaFN1YnNjcmlwdGlvbiA9IHJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5zdWJzY3JpYmUoc3Vic2NyaWJlT3B0aW9ucyk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVjZWl2ZWQgUHVzaFN1YnNjcmlwdGlvbjogJywgSlNPTi5zdHJpbmdpZnkocHVzaFN1YnNjcmlwdGlvbikpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocHVzaFN1YnNjcmlwdGlvbikgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNlaXZlZCBQdXNoU3Vic2NyaXB0aW9uOiAnLCBKU09OLnN0cmluZ2lmeShwdXNoU3Vic2NyaXB0aW9uKSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHB1c2hTdWJzY3JpcHRpb247DQogICAgICAgICAgICB9KTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzZW5kU3Vic2NyaXB0aW9uVG9CYWNrRW5kKHN1YnNjcmlwdGlvbiwgZ29hbElkLCBjb25maWdJZCkgew0KICAgICAgICB2YXIgZGF0YSA9IHsNCiAgICAgICAgICAgIHN1YnNjcmlwdGlvbjogc3Vic2NyaXB0aW9uLA0KICAgICAgICAgICAgZ29hbElkOiBnb2FsSWQsDQogICAgICAgICAgICBjb25maWdJZDogY29uZmlnSWQNCiAgICAgICAgfTsNCiAgICAgICAgcmV0dXJuIGZldGNoKCcvYXBpL3NmLzEuMC9wdXNoTm90aWZpY2F0aW9uL3N1YnNjcmliZScsIHsNCiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKQ0KICAgICAgICB9KQ0KICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQogICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgew0KICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JhZCBzdGF0dXMgY29kZSBmcm9tIHNlcnZlci4nKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9KTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzdWJzY3JpYmUocHVibGljS2V5LCBnb2FsSWQsIGNvbmZpZ0lkKSB7DQoNCiAgICAgICAgaWYgKCFpc1N1cHBvcnRlZCgpKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygnTm90IFN1cHBvcnRlZC4nKTsNCiAgICAgICAgICAgIHJldHVybjsNCg0KICAgICAgICB9DQoNCiAgICAgICAgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKGZ1bmN0aW9uIChwZXJtaXNzaW9uUmVzdWx0KSB7DQogICAgICAgICAgICBpZiAocGVybWlzc2lvblJlc3VsdCAhPT0gJ2dyYW50ZWQnKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Blcm1pc3Npb24gRGVuaWVkJykNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlIHdlcmVuXCd0IGdyYW50ZWQgcGVybWlzc2lvbi4nKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHN1YnNjcmliZVVzZXJUb1B1c2gocHVibGljS2V5KS50aGVuKGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHsNCiAgICAgICAgICAgICAgICBzZW5kU3Vic2NyaXB0aW9uVG9CYWNrRW5kKHN1YnNjcmlwdGlvbiwgZ29hbElkLCBjb25maWdJZCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQoNCiAgICB9DQoNCiAgICBmdW5jdGlvbiB1cmxCYXNlNjRUb1VpbnQ4QXJyYXkoYmFzZTY0U3RyaW5nKSB7DQogICAgICAgIGNvbnN0IHBhZGRpbmcgPSAnPScucmVwZWF0KCg0IC0gYmFzZTY0U3RyaW5nLmxlbmd0aCAlIDQpICUgNCk7DQogICAgICAgIGNvbnN0IGJhc2U2NCA9IChiYXNlNjRTdHJpbmcgKyBwYWRkaW5nKQ0KICAgICAgICAgICAgLnJlcGxhY2UoL1wtL2csICcrJykNCiAgICAgICAgICAgIC5yZXBsYWNlKC9fL2csICcvJykNCiAgICAgICAgICAgIDsNCiAgICAgICAgY29uc3QgcmF3RGF0YSA9IHdpbmRvdy5hdG9iKGJhc2U2NCk7DQogICAgICAgIHJldHVybiBVaW50OEFycmF5LmZyb20oWy4uLnJhd0RhdGFdLm1hcCgoY2hhcikgPT4gY2hhci5jaGFyQ29kZUF0KDApKSk7DQogICAgfQ0KDQogICAgcmV0dXJuIHsNCiAgICAgICAgaXNTdXBwb3J0ZWQ6IGlzU3VwcG9ydGVkLA0KICAgICAgICBzdWJzY3JpYmU6IHN1YnNjcmliZQ0KICAgIH0NCg0KfSkoKTs=
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 4709
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20200409T182021Z
